/* Custom font import */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
body {
    font-family: 'Inter', sans-serif;
}
/* Custom slider styles for better visual matching */
input[type="range"] {
    -webkit-appearance: none; /* Hides the default slider */
    appearance: none;
    width: 100%; /* Full-width */
    height: 8px; /* Specify a height */
    background: #e0e0e0; /* Grey background */
    border-radius: 5px;
    outline: none; /* Remove outline */
    opacity: 0.7; /* Set transparency */
    -webkit-transition: .2s; /* 0.2 seconds transition on hover */
    transition: opacity .2s;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none; /* Hides the default slider thumb */
    appearance: none;
    width: 16px; /* Set a specific slider handle width */
    height: 16px; /* Slider handle height */
    background: #6366F1; /* Blue background */
    border-radius: 50%; /* Fully rounded slider handle */
    cursor: pointer; /* Cursor on hover */
    border: 2px solid #fff; /* White border */
    box-shadow: 0 0 2px rgba(0,0,0,0.3);
}

input[type="range"]::-moz-range-thumb {
    width: 16px; /* Set a specific slider handle width */
    height: 16px; /* Slider handle height */
    background: #6366F1; /* Blue background */
    border-radius: 50%; /* Fully rounded slider handle */
    cursor: pointer; /* Cursor on hover */
    border: 2px solid #fff; /* White border */
    box-shadow: 0 0 2px rgba(0,0,0,0.3);
}
/* Canvas specific styling */
#threeJsCanvas {
    background-color: #eee; /* Changed to match example's light background */
    display: block;
    width: 100%;
    height: 100%;
    min-height: 300px; /* Ensure a minimum height for visibility */
}
/* Style for the color palette swatches */
.color-swatch {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid #e5e7eb; /* gray-200 */
    cursor: pointer;
    transition: transform 0.2s;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

html, body {
    height: 100vh;
    overflow: hidden;
}
body {
    min-height: 100vh;
    max-height: 100vh;
    display: flex;
    flex-direction: column;
}
main.flex-grow {
    flex-grow: 1;
    min-height: 0;
    max-height: calc(100vh - 80px); /* Adjust 80px if your header is taller/shorter */
    overflow: hidden;
    display: flex;
    flex-direction: column;
}
.main-content-scroll {
    flex: 1 1 0%;
    min-height: 0;
    max-height: 100%;
    overflow-y: auto;
}
/* Make left column scrollable if content overflows */
.left-column-scroll {
    max-height: 100%;
    overflow-y: auto;
}
#uploadArea {
    max-height: 180px; /* Adjust as needed */
    min-height: 100px;
    height: 180px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
}
#imagePreview {
    max-height: 180px;
    object-fit: contain;
}

.income-progress-container {
    height: 4px;
    background-color: #e5e7eb; /* gray-200 */
    border-radius: 2px;
    margin-top: 2px;
    overflow: hidden;
}
.income-progress-bar {
    height: 100%;
    background-color: #4ade80; /* green-400 */
    border-radius: 2px;
    transition: width 0.3s ease-in-out;
}
.income-text, .percentage-text {
    color: #4b5563; /* gray-600 */
    white-space: nowrap;
}

/* Styles for map settings overlays */
.map-settings-panel {
    min-width: 200px; /* Give them a decent width */
    display: none; /* Default to hidden */
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    pointer-events: none; /* Prevent interaction when hidden */
    background-color: #fff; /* Ensure consistent background */
    border-radius: 0.5rem; /* rounded-lg */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-lg */
    padding: 1rem; /* p-4 */
    border: 1px solid #e5e7eb; /* border-gray-200 */
    transition: max-height 0.3s ease-out, opacity 0.3s ease-out; /* Removed display from transition */
}

.map-settings-panel.active {
    display: block; /* Make it visible */
    max-height: 500px; /* Increased max height to ensure content fits */
    opacity: 1;
    pointer-events: auto;
}

/* Dark theme: only applies if user prefers dark mode */
@media (prefers-color-scheme: dark) {
    body,
    .bg-gray-100,
    .bg-white {
        background-color: #181a20 !important;
        color: #e5e7eb !important;
    }

    header,
    main,
    .left-column-scroll,
    #threeJsContainer,
    #uploadArea,
    #recentTexturesSection,
    #extractedColorPalette,
    .controls-group,
    #seamlessModal > div,
    .map-settings-panel { /* Added .map-settings-panel */
        background-color: #23262f !important;
        color: #e5e7eb !important;
        border-color: #23262f !important;
    }

    input[type="range"] {
        background: #23262f !important;
    }

    input[type="range"]::-webkit-slider-thumb,
    input[type="range"]::-moz-range-thumb {
        background: #6366F1 !important;
        border: 2px solid #23262f !important;
    }

    .color-swatch {
        border: 2px solid #23262f !important;
        box-shadow: 0 2px 4px rgba(0,0,0,0.5) !important;
    }

    #uploadArea {
        border-color: #353945 !important;
        background-color: #23262f !important;
    }

    #uploadArea:hover,
    #uploadArea:focus {
        border-color: #6366F1 !important;
        background-color: #23262f !important;
    }

    #imagePreview {
        background: #23262f !important;
    }

    .texture-button {
        background: #23262f !important;
        border: 1px solid #353945 !important;
    }

    .texture-button.bg-blue-600 {
        background: #6366F1 !important;
        border-color: #6366F1 !important;
    }

    .texture-button img {
        filter: brightness(0.9) contrast(1.1);
    }

    input,
    select,
    button {
        background-color: #23262f !important;
        color: #e5e7eb !important;
        border-color: #353945 !important;
    }

    input:focus,
    select:focus,
    button:focus {
        outline: 2px solid #6366F1 !important;
    }

    ::-webkit-scrollbar {
        width: 8px;
        background: #181a20;
    }
    ::-webkit-scrollbar-thumb {
        background: #353945;
        border-radius: 4px;
    }

    .shadow-md,
    .shadow-lg,
    .shadow-xl {
        box-shadow: 0 4px 24px rgba(0,0,0,0.7) !important;
    }

    .border-gray-200,
    .border-gray-300 {
        border-color: #353945 !important;
    }

    .text-gray-400,
    .text-gray-500,
    .text-gray-600,
    .text-gray-700,
    .text-gray-800 {
        color: #b1b5c3 !important;
    }

    a {
        color: #8b5cf6 !important;
    }
    a:hover {
        color: #a78bfa !important;
    }
}